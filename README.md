# Kanban Board с Supabase

Простая канбан доска с drag & drop и синхронизацией через Supabase.

## Возможности

- ✅ 3 колонки: To Do, In Progress, Done
- ✅ Добавление задач
- ✅ Перетаскивание карточек между колонками (HTML5 Drag & Drop API)
- ✅ Удаление задач (кнопка × в углу карточки)
- ✅ Синхронизация с Supabase в реальном времени
- ✅ Адаптивный дизайн

## Установка и настройка

### 1. Настройка Supabase

1. Откройте [Supabase Dashboard](https://supabase.com/dashboard)
2. Перейдите в ваш проект: `https://ltajoahayjrjsxxtqtyq.supabase.co`
3. Откройте **SQL Editor** (слева в меню)
4. Скопируйте содержимое файла `setup-database.sql`
5. Вставьте в SQL Editor и нажмите **Run**

Это создаст таблицу `tasks` со следующей структурой:
- `id` (UUID) - уникальный идентификатор
- `text` (TEXT) - текст задачи
- `status` (TEXT) - статус: todo, inProgress, done
- `position` (INTEGER) - позиция в колонке
- `created_at` (TIMESTAMP) - время создания
- `updated_at` (TIMESTAMP) - время обновления

### 2. Проверка учетных данных

Файл `config.js` уже содержит ваши учетные данные:
- **Project URL**: `https://ltajoahayjrjsxxtqtyq.supabase.co`
- **Anon Key**: уже настроен

### 3. Запуск

Откройте `index.html` в браузере. Можно использовать:

**Вариант 1: Локальный сервер (рекомендуется)**
```bash
# С помощью Python
python -m http.server 8000

# С помощью Node.js
npx serve

# С помощью VS Code
# Установите расширение "Live Server" и нажмите "Go Live"
```

Затем откройте: `http://localhost:8000`

**Вариант 2: Прямое открытие файла**
Просто откройте `index.html` в браузере (может не работать из-за CORS)

## Структура файлов

```
kanban-board/
├── index.html           # Главный HTML файл с приложением
├── config.js            # Конфигурация Supabase (credentials)
├── setup-database.sql   # SQL скрипт для создания таблицы
└── README.md           # Эта инструкция
```

## Как это работает

### Добавление задачи
1. Пользователь вводит текст в поле ввода
2. Создается новая карточка с UUID
3. Карточка добавляется в DOM (колонка To Do)
4. Задача сохраняется в Supabase через API

### Перемещение задачи
1. Пользователь перетаскивает карточку в другую колонку
2. DOM обновляется
3. Все задачи синхронизируются с Supabase (полная пересинхронизация)

### Удаление задачи
1. Пользователь нажимает кнопку × на карточке
2. Задача удаляется из DOM
3. Задача удаляется из Supabase через API

### Загрузка задач
1. При загрузке страницы выполняется запрос к Supabase
2. Задачи загружаются и группируются по статусу
3. Карточки отображаются в соответствующих колонках
4. Если задач нет, создаются примеры

## Технологии

- **HTML5 Drag & Drop API** - перетаскивание карточек
- **Supabase** - база данных и API
- **JavaScript (ES6+)** - логика приложения
- **CSS3** - стили и анимации

## Безопасность

⚠️ **Важно**: Текущая настройка использует публичный anon key и политику Row Level Security (RLS), которая разрешает всем читать и изменять задачи. Это подходит для демо и разработки.

Для продакшена рекомендуется:
1. Добавить аутентификацию пользователей
2. Настроить более строгие RLS политики
3. Хранить credentials в переменных окружения
4. Использовать `.env` файл (не коммитить в Git)

## Решение проблем

### Ошибка "Failed to fetch"
- Проверьте, что SQL скрипт был выполнен в Supabase
- Убедитесь, что URL и anon key в `config.js` правильные
- Откройте консоль браузера (F12) для деталей

### Задачи не сохраняются
- Проверьте консоль браузера на ошибки
- Убедитесь, что таблица `tasks` создана
- Проверьте, что RLS политики настроены правильно

### Drag & Drop не работает
- Убедитесь, что открываете через HTTP сервер, а не file://
- Проверьте консоль на JavaScript ошибки

## Дальнейшее развитие

Идеи для улучшения:
- [ ] Добавить редактирование задач
- [ ] Добавить категории/теги
- [ ] Добавить фильтрацию и поиск
- [ ] Добавить аутентификацию пользователей
- [ ] Добавить realtime обновления (Supabase Realtime)
- [ ] Добавить темную тему
- [ ] Экспорт/импорт задач

## Лицензия

MIT
